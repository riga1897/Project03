~/workspace$ pytest tests/test_13_ui_interfaces_coverage.py
=================================== test session starts ====================================
platform linux -- Python 3.11.13, pytest-8.4.2, pluggy-1.6.0
rootdir: /home/runner/workspace
configfile: pyproject.toml
plugins: cov-6.2.1, mock-3.15.0
collected 28 items                                                                         

tests/test_13_ui_interfaces_coverage.py .......................FFF..                 [100%]

========================================= FAILURES =========================================
________ TestVacancyOperationsCoordinator.test_coordinate_operations_invalid_choice ________

self = <tests.test_13_ui_interfaces_coverage.TestVacancyOperationsCoordinator object at 0x7f8323339110>

    def test_coordinate_operations_invalid_choice(self):
        """Покрытие неверного выбора операции."""
        mock_storage = Mock()
        coordinator = VacancyOperationsCoordinator(Mock(), mock_storage)
        assert coordinator is not None
    
        # Проверяем что была обработана ошибка выбора
>       mock_print.assert_called()
        ^^^^^^^^^^
E       NameError: name 'mock_print' is not defined

tests/test_13_ui_interfaces_coverage.py:404: NameError
__________ TestUIInterfacesIntegration.test_user_interface_components_integration __________

self = <tests.test_13_ui_interfaces_coverage.TestUIInterfacesIntegration object at 0x7f83233398d0>

    def test_user_interface_components_integration(self):
        """Покрытие интеграции компонентов пользовательского интерфейса."""
        mock_storage = Mock()
        mock_db_manager = Mock()
    
        ui = UserInterface(mock_storage, mock_db_manager)
    
        # Проверяем основные атрибуты интерфейса
        assert ui.storage is mock_storage
        assert ui.db_manager is mock_db_manager
        # Проверяем что компоненты созданы
        assert hasattr(ui, 'unified_api')
        assert hasattr(ui, 'menu_manager')
    
        # Проверяем что компоненты получили правильные зависимости
>       assert ui.vacancy_search_handler.storage is mock_storage
               ^^^^^^^^^^^^^^^^^^^^^^^^^
E       AttributeError: 'UserInterface' object has no attribute 'vacancy_search_handler'

tests/test_13_ui_interfaces_coverage.py:425: AttributeError
___________________ TestUIInterfacesIntegration.test_components_creation ___________________

self = <tests.test_13_ui_interfaces_coverage.TestUIInterfacesIntegration object at 0x7f8323339ed0>

    def test_components_creation(self):
        """Покрытие создания отдельных компонентов."""
        mock_storage = Mock()
    
        # Тестируем создание каждого компонента отдельно
        source_selector = SourceSelector()
        display_handler = VacancyDisplayHandler(mock_storage)
        search_handler = VacancySearchHandler(Mock(), mock_storage)
        operations_coordinator = VacancyOperationsCoordinator(Mock(), mock_storage)
    
        # Проверяем что все компоненты созданы корректно
        assert source_selector is not None
        assert display_handler.storage is mock_storage
        assert search_handler.storage is mock_storage
>       assert search_handler.source_selector is source_selector
E       assert <src.ui_interfaces.source_selector.SourceSelector object at 0x7f832338b090> is <src.ui_interfaces.source_selector.SourceSelector object at 0x7f832338a190>
E        +  where <src.ui_interfaces.source_selector.SourceSelector object at 0x7f832338b090> = <src.ui_interfaces.vacancy_search_handler.VacancySearchHandler object at 0x7f8323389650>.source_selector

tests/test_13_ui_interfaces_coverage.py:443: AssertionError
================================= short test summary info ==================================
FAILED tests/test_13_ui_interfaces_coverage.py::TestVacancyOperationsCoordinator::test_coordinate_operations_invalid_choice - NameError: name 'mock_print' is not defined
FAILED tests/test_13_ui_interfaces_coverage.py::TestUIInterfacesIntegration::test_user_interface_components_integration - AttributeError: 'UserInterface' object has no attribute 'vacancy_search_handler'
FAILED tests/test_13_ui_interfaces_coverage.py::TestUIInterfacesIntegration::test_components_creation - assert <src.ui_interfaces.source_selector.SourceSelector object at 0x7f832338b090> is <...
=============================== 3 failed, 25 passed in 0.37s ===============================
~/workspace$ 