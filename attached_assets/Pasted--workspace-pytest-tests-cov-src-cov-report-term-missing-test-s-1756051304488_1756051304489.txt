~/workspace$ pytest tests/ --cov=src --cov-report=term-missing
============================= test session starts ==============================
platform linux -- Python 3.11.13, pytest-8.4.1, pluggy-1.6.0 -- /nix/store/2lcqw1d28vklbk8ikiwad28iq2smwndv-python-wrapped-0.1.0/bin/python3
cachedir: .pytest_cache
rootdir: /home/runner/workspace/tests
configfile: pytest.ini
plugins: cov-6.2.1, mock-3.14.1
collected 74 items                                                             

tests/test_api_modules.py::TestHeadHunterAPI::test_api_initialization PASSED [  1%]
tests/test_api_modules.py::TestHeadHunterAPI::test_validate_vacancy_valid PASSED [  2%]
tests/test_api_modules.py::TestHeadHunterAPI::test_validate_vacancy_invalid PASSED [  4%]
tests/test_api_modules.py::TestHeadHunterAPI::test_get_vacancies_page_success PASSED [  5%]
tests/test_api_modules.py::TestHeadHunterAPI::test_get_vacancies_empty_response PASSED [  6%]
tests/test_api_modules.py::TestHeadHunterAPI::test_empty_response_structure PASSED [  8%]
tests/test_api_modules.py::TestSuperJobAPI::test_api_initialization_with_custom_key PASSED [  9%]
tests/test_api_modules.py::TestSuperJobAPI::test_validate_vacancy_valid PASSED [ 10%]
tests/test_api_modules.py::TestSuperJobAPI::test_validate_vacancy_invalid PASSED [ 12%]
tests/test_api_modules.py::TestSuperJobAPI::test_get_vacancies_page_with_source PASSED [ 13%]
tests/test_api_modules.py::TestSuperJobAPI::test_empty_response_structure PASSED [ 14%]
tests/test_integration.py::TestIntegrationWorkflow::test_complete_vacancy_workflow_json PASSED [ 16%]
tests/test_integration.py::TestIntegrationWorkflow::test_search_and_filter_integration PASSED [ 17%]
tests/test_integration.py::TestIntegrationWorkflow::test_error_handling_integration PASSED [ 18%]
tests/test_integration.py::TestIntegrationWorkflow::test_api_to_storage_integration PASSED [ 20%]
tests/test_storage.py::TestJSONSaver::test_add_vacancy_to_empty_file PASSED [ 21%]
tests/test_storage.py::TestJSONSaver::test_add_duplicate_vacancy PASSED  [ 22%]
tests/test_storage.py::TestJSONSaver::test_get_vacancies_empty_file PASSED [ 24%]
tests/test_storage.py::TestJSONSaver::test_delete_vacancy_by_id PASSED   [ 25%]
tests/test_storage.py::TestJSONSaver::test_delete_nonexistent_vacancy PASSED [ 27%]
tests/test_storage.py::TestJSONSaver::test_delete_all_vacancies PASSED   [ 28%]
tests/test_storage.py::TestJSONSaver::test_file_size_calculation PASSED  [ 29%]
tests/test_storage.py::TestPostgresSaver::test_connection_creation PASSED [ 31%]
tests/test_storage.py::TestPostgresSaver::test_add_vacancy_success PASSED [ 32%]
tests/test_storage.py::TestPostgresSaver::test_get_vacancies_count PASSED [ 33%]
tests/test_storage.py::TestPostgresSaver::test_delete_vacancy_by_id_success PASSED [ 35%]
tests/test_storage.py::TestPostgresSaver::test_delete_vacancy_by_id_not_found PASSED [ 36%]
tests/test_ui_helpers.py::TestUIHelpers::test_get_positive_integer_valid PASSED [ 37%]
tests/test_ui_helpers.py::TestUIHelpers::test_get_positive_integer_invalid_then_valid PASSED [ 39%]
tests/test_ui_helpers.py::TestUIHelpers::test_get_positive_integer_non_numeric PASSED [ 40%]
tests/test_ui_helpers.py::TestUIHelpers::test_filter_vacancies_by_keyword_in_title PASSED [ 41%]
tests/test_ui_helpers.py::TestUIHelpers::test_filter_vacancies_by_keyword_in_description PASSED [ 43%]
tests/test_ui_helpers.py::TestUIHelpers::test_filter_vacancies_by_keyword_case_insensitive PASSED [ 44%]
tests/test_ui_helpers.py::TestUIHelpers::test_filter_vacancies_by_keyword_no_matches PASSED [ 45%]
tests/test_ui_helpers.py::TestUIHelpers::test_parse_salary_range_both_values PASSED [ 47%]
tests/test_ui_helpers.py::TestUIHelpers::test_parse_salary_range_only_min PASSED [ 48%]
tests/test_ui_helpers.py::TestUIHelpers::test_parse_salary_range_only_max PASSED [ 50%]
tests/test_ui_helpers.py::TestUIHelpers::test_parse_salary_range_single_value PASSED [ 51%]
tests/test_ui_helpers.py::TestUIHelpers::test_parse_salary_range_invalid_format PASSED [ 52%]
tests/test_ui_helpers.py::TestUIHelpers::test_parse_salary_range_empty_string PASSED [ 54%]
tests/test_ui_helpers.py::TestUIHelpers::test_parse_salary_range_with_spaces PASSED [ 55%]
tests/test_vacancy_formatter.py::TestVacancyFormatter::test_format_vacancy_info_basic PASSED [ 56%]
tests/test_vacancy_formatter.py::TestVacancyFormatter::test_format_vacancy_info_no_number PASSED [ 58%]
tests/test_vacancy_formatter.py::TestVacancyFormatter::test_format_salary_with_range PASSED [ 59%]
tests/test_vacancy_formatter.py::TestVacancyFormatter::test_format_salary_only_from PASSED [ 60%]
tests/test_vacancy_formatter.py::TestVacancyFormatter::test_format_salary_none PASSED [ 62%]
tests/test_vacancy_formatter.py::TestVacancyFormatter::test_format_company_info_dict PASSED [ 63%]
tests/test_vacancy_formatter.py::TestVacancyFormatter::test_format_company_info_string PASSED [ 64%]
tests/test_vacancy_formatter.py::TestVacancyFormatter::test_format_company_info_none PASSED [ 66%]
tests/test_vacancy_formatter.py::TestVacancyFormatter::test_extract_responsibilities PASSED [ 67%]
tests/test_vacancy_formatter.py::TestVacancyFormatter::test_extract_requirements PASSED [ 68%]
tests/test_vacancy_formatter.py::TestVacancyFormatter::test_extract_conditions_with_schedule PASSED [ 70%]
tests/test_vacancy_formatter.py::TestVacancyFormatter::test_build_vacancy_lines_complete PASSED [ 71%]
tests/test_vacancy_formatter.py::TestVacancyFormatter::test_convert_hh_api_url_to_web_url PASSED [ 72%]
tests/test_vacancy_models.py::TestVacancy::test_vacancy_creation_with_dict_salary PASSED [ 74%]
tests/test_vacancy_models.py::TestVacancy::test_vacancy_creation_without_salary PASSED [ 75%]
tests/test_vacancy_models.py::TestVacancy::test_vacancy_string_representation PASSED [ 77%]
tests/test_vacancy_models.py::TestVacancy::test_vacancy_comparison PASSED [ 78%]
tests/test_vacancy_models.py::TestVacancy::test_vacancy_equality PASSED  [ 79%]
tests/test_vacancy_models.py::TestSalary::test_salary_creation_from_dict PASSED [ 81%]
tests/test_vacancy_models.py::TestSalary::test_salary_string_representation PASSED [ 82%]
tests/test_vacancy_models.py::TestSalary::test_salary_only_from PASSED   [ 83%]
tests/test_vacancy_models.py::TestSalary::test_salary_only_to PASSED     [ 85%]
tests/test_vacancy_models.py::TestSalary::test_salary_comparison PASSED  [ 86%]
tests/test_vacancy_models.py::TestSalary::test_source_detection_from_dict PASSED [ 87%]
tests/test_vacancy_models.py::TestSalary::test_source_fallback_detection PASSED [ 89%]
tests/test_vacancy_operations.py::TestVacancyOperations::test_search_vacancies_advanced PASSED [ 90%]
tests/test_vacancy_operations.py::TestVacancyOperations::test_get_vacancies_with_salary PASSED [ 91%]
tests/test_vacancy_operations.py::TestVacancyOperations::test_sort_vacancies_by_salary PASSED [ 93%]
tests/test_vacancy_operations.py::TestVacancyOperations::test_filter_vacancies_by_multiple_keywords PASSED [ 94%]
tests/test_vacancy_operations.py::TestVacancyOperations::test_search_vacancies_advanced_and_operator PASSED [ 95%]
tests/test_vacancy_operations.py::TestVacancyOperations::test_search_vacancies_advanced_or_operator PASSED [ 97%]
tests/test_vacancy_operations.py::TestVacancyOperations::test_search_vacancies_advanced_simple_query PASSED [ 98%]
tests/test_vacancy_operations.py::TestVacancyOperations::test_vacancy_operations_basic_functionality PASSED [100%]

================================ tests coverage ================================
_______________ coverage: platform linux, python 3.11.13-final-0 _______________

Name                                                  Stmts   Miss  Cover   Missing
-----------------------------------------------------------------------------------
src/__init__.py                                           0      0   100%
src/api_modules/__init__.py                               0      0   100%
src/api_modules/base_api.py                              39     27    31%   64-90, 105-118
src/api_modules/cached_api.py                           104     76    27%   64-70, 90-122, 131-141, 153-223
src/api_modules/get_api.py                               53     37    30%   46-54, 63-64, 72-74, 100-140, 153
src/api_modules/hh_api.py                                71     24    66%   76-84, 116-118, 146-147, 161-167, 179, 192-193, 202
src/api_modules/sj_api.py                                81     35    57%   98-105, 137-139, 158-198, 210, 223-224, 233
src/api_modules/unified_api.py                          156    156     0%   1-257
src/config/__init__.py                                    0      0   100%
src/config/api_config.py                                 23      1    96%   35
src/config/app_config.py                                 23     23     0%   1-51
src/config/db_config.py                                  23     23     0%   2-63
src/config/hh_api_config.py                              20     20     0%   1-34
src/config/sj_api_config.py                              17      2    88%   28, 31
src/config/ui_config.py                                  27     27     0%   1-87
src/storage/__init__.py                                   0      0   100%
src/storage/abstract.py                                  14     14     0%   1-42
src/storage/json_saver.py                               261    128    51%   35, 57-77, 89-99, 107, 110, 156, 158, 177, 187-227, 232-235, 251-255, 261-262, 266-267, 271-281, 302-304, 334-336, 348-371, 377-387, 397, 404, 407-409, 412, 418-420, 432-438, 449-450, 459-467
src/storage/postgres_saver.py                           441    334    24%   37-41, 57-59, 64-91, 95-154, 161-317, 330, 335, 360-378, 421-445, 456-459, 476-529, 533-583, 587, 591-605, 622-625, 633-656, 668-695, 699-710, 722-768, 772-784, 806-820, 823, 828-830, 847-886, 891, 895-925
src/storage/storage_factory.py                           18     18     0%   1-39
src/ui_interfaces/__init__.py                             0      0   100%
src/ui_interfaces/console_interface.py                  355    355     0%   1-537
src/ui_interfaces/source_selector.py                     41     41     0%   1-74
src/ui_interfaces/vacancy_display_handler.py             68     68     0%   1-131
src/ui_interfaces/vacancy_operations_coordinator.py     139    139     0%   8-218
src/ui_interfaces/vacancy_search_handler.py             136    136     0%   1-280
src/user_interface.py                                    23     23     0%   6-52
src/utils/__init__.py                                     0      0   100%
src/utils/base_formatter.py                             102     81    21%   23-93, 98-104, 109-116, 121-139, 145, 151, 157-163, 168
src/utils/cache.py                                       73     43    41%   26-54, 58-59, 63, 94-95, 99-106, 110-121, 125-127
src/utils/env_loader.py                                  51     32    37%   22, 29-62, 90-97
src/utils/file_handlers.py                               36     36     0%   1-72
src/utils/menu_manager.py                                48     48     0%   1-148
src/utils/paginator.py                                   28      9    68%   43-44, 51-52, 57-61
src/utils/salary.py                                      82     13    84%   28, 35-41, 51-52, 58, 96, 120
src/utils/search_utils.py                                65     24    63%   28, 40, 52-57, 62-64, 68, 72, 76, 80, 112, 116, 120, 124, 128, 132-135
src/utils/source_manager.py                              35     35     0%   1-78
src/utils/ui_helpers.py                                 140     69    51%   22-28, 47, 51-52, 88, 107-114, 136, 144, 148, 160-165, 170-172, 176, 180, 184, 188, 206, 211, 216, 221, 226, 231, 236, 250-280, 295-300, 311
src/utils/ui_navigation.py                               99     99     0%   1-246
src/utils/vacancy_formatter.py                          148     29    80%   41, 57-78, 110-115, 134, 168, 175, 223, 236, 249, 257, 265
src/utils/vacancy_operations.py                         107     31    71%   52, 80, 114, 143, 222-223, 226-227, 240-259, 266-290
src/vacancies/__init__.py                                 0      0   100%
src/vacancies/abstract.py                                10      0   100%
src/vacancies/models.py                                 157     35    78%   111, 116, 123, 141-144, 149-157, 164, 184, 190, 198, 239, 242-243, 263-265, 302, 308, 313-315, 320, 325-327, 331
src/vacancies/parsers/__init__.py                         0      0   100%
src/vacancies/parsers/hh_parser.py                       51     18    65%   24-34, 40, 54, 65-72, 76-78
src/vacancies/parsers/sj_parser.py                       31     31     0%   1-63
-----------------------------------------------------------------------------------
TOTAL                                                  3396   2340    31%
============================== 74 passed in 0.65s ==============================
